% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/process_responses.R
\name{process_responses}
\alias{process_responses}
\title{Run the Full SADCAT Pipeline}
\usage{
process_responses(
  data,
  text_col = "responsex",
  response_col = "response",
  group_cols = c("Synonym.GroupX", "Group", "Level"),
  stages = c("preprocess", "valence", "dictionaries", "embeddings", "seeds", "aggregate"),
  spellcheck = TRUE,
  singularize_text = TRUE,
  java_home = "C:\\\\Program Files\\\\Java\\\\jre-1.8",
  wordnet_dict = "C:\\\\dict",
  valence_text_col = "tv",
  embedding_methods = c("sbert"),
  sbert_model = "paraphrase-mpnet-base-v2",
  gemini_api_key = NULL,
  gemini_dims = 2000L,
  gemini_batch_size = 10L,
  gemini_sleep = 63,
  seed_method = "correlation",
  extra_sum_cols = NULL,
  extra_mean_cols = NULL,
  extra_distinct_cols = NULL,
  save_intermediates = FALSE,
  save_prefix = "pipeline",
  verbose = TRUE
)
}
\arguments{
\item{data}{A data.frame with raw LLM responses}

\item{text_col}{Column with raw text responses (default "responsex")}

\item{response_col}{Column with original response for negation/NA checks (default "response")}

\item{group_cols}{Grouping columns for aggregation (default c("Synonym.GroupX", "Group", "Level"))}

\item{stages}{Character vector of stages to run. Default: all stages.
Options: "preprocess", "valence", "dictionaries", "embeddings", "seeds", "aggregate"}

\item{spellcheck}{Run spell-checking in preprocessing? (default TRUE)}

\item{singularize_text}{Run singularization in preprocessing? (default TRUE)}

\item{java_home}{Path to Java JRE for spell-checking}

\item{wordnet_dict}{Path to WordNet dictionary files}

\item{valence_text_col}{Column to use for valence scoring (default "tv").
Use "tv" for LLMs (preserve original), "tv2" for human participants.}

\item{embedding_methods}{Embedding methods: "sbert", "gemini", or both (default "sbert")}

\item{sbert_model}{SBERT model name (default "paraphrase-mpnet-base-v2")}

\item{gemini_api_key}{Gemini API key. If NULL, reads from environment variable}

\item{gemini_dims}{Gemini embedding dimensionality (default 2000)}

\item{gemini_batch_size}{Gemini batch size (default 10)}

\item{gemini_sleep}{Seconds between Gemini batches (default 63)}

\item{seed_method}{Seed similarity method: "correlation" or "cosine" (default "correlation")}

\item{extra_sum_cols}{Extra columns for sum aggregation}

\item{extra_mean_cols}{Extra columns for mean aggregation}

\item{extra_distinct_cols}{Extra columns for distinct aggregation}

\item{save_intermediates}{Save CSVs after each stage? (default FALSE)}

\item{save_prefix}{Prefix for intermediate CSV filenames (default "pipeline")}

\item{verbose}{Print progress? (default TRUE)}
}
\value{
A named list with \code{$long} (full long-format data) and
  \code{$agg} (aggregated data, if "aggregate" stage was run)
}
\description{
Run the full SADCAT LLM response processing pipeline.
Chains all pipeline stages in sequence: text preprocessing, valence scoring,
dictionary matching, embedding computation, seed similarity computation,
and aggregation. Each stage can be skipped via the \code{stages} parameter.
}
